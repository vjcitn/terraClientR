# FireCloud
#
# FireCloud API 
#
# The version of the OpenAPI document: 0.1
# 
# Generated by: https://openapi-generator.tech

#' @docType class
#' @title GA4GHToolRegistry operations
#' @description openapi.GA4GHToolRegistry
#' @format An \code{R6Class} generator object
#' @field apiClient Handles the client-server communication.
#'
#' @section Methods:
#' \describe{
#' \strong{ Ga4ghV1MetadataGet } \emph{ Return some metadata that is useful for describing this registry }
#' Return some metadata that is useful for describing this registry
#'
#' \itemize{
#' \item \emph{ @returnType } \link{Metadata} \cr
#'
#'
#' \item status code : 200 | A Metadata object describing this service.
#'
#' \item return type : Metadata 
#' \item response headers :
#'
#' \tabular{ll}{
#' }
#' }
#'
#' \strong{ Ga4ghV1ToolClassesGet } \emph{ List all tool types }
#' This endpoint returns all tool-classes available 
#'
#' \itemize{
#' \item \emph{ @returnType } list( \link{ToolClass} ) \cr
#'
#'
#' \item status code : 200 | An array of methods that match the filter.
#'
#' \item return type : array[ToolClass] 
#' \item response headers :
#'
#' \tabular{ll}{
#' }
#' }
#'
#' \strong{ Ga4ghV1ToolsGet } \emph{ List all tools }
#' This endpoint returns all tools available. 
#'
#' \itemize{
#' \item \emph{ @returnType } list( \link{Tool} ) \cr
#'
#'
#' \item status code : 200 | An array of Tools that match the filter.
#'
#' \item return type : array[Tool] 
#' \item response headers :
#'
#' \tabular{ll}{
#' }
#' }
#'
#' \strong{ Ga4ghV1ToolsIdGet } \emph{ List one specific tool, acts as an anchor for self references }
#' This endpoint returns one specific tool (which has ToolVersions nested inside it)
#'
#' \itemize{
#' \item \emph{ @param } id character
#' \item \emph{ @returnType } \link{Tool} \cr
#'
#'
#' \item status code : 200 | A tool.
#'
#' \item return type : Tool 
#' \item response headers :
#'
#' \tabular{ll}{
#' }
#' }
#'
#' \strong{ Ga4ghV1ToolsIdVersionsGet } \emph{ List versions of a tool }
#' Returns all versions of the specified tool
#'
#' \itemize{
#' \item \emph{ @param } id character
#' \item \emph{ @returnType } list( \link{ToolVersion} ) \cr
#'
#'
#' \item status code : 200 | An array of tool versions
#'
#' \item return type : array[ToolVersion] 
#' \item response headers :
#'
#' \tabular{ll}{
#' }
#' }
#'
#' \strong{ Ga4ghV1ToolsIdVersionsVersionIdGet } \emph{ List one specific tool version, acts as an anchor for self references }
#' This endpoint returns one specific tool version
#'
#' \itemize{
#' \item \emph{ @param } id character
#' \item \emph{ @param } version.id character
#' \item \emph{ @returnType } \link{ToolVersion} \cr
#'
#'
#' \item status code : 200 | A tool version.
#'
#' \item return type : ToolVersion 
#' \item response headers :
#'
#' \tabular{ll}{
#' }
#' }
#'
#' \strong{ Ga4ghV1ToolsIdVersionsVersionIdTypeDescriptorGet } \emph{ Get the tool descriptor (WDL) for the specified tool. }
#' Returns the WDL descriptor for the specified tool.
#'
#' \itemize{
#' \item \emph{ @param } type Enum < [WDL, plain-WDL] > 
#' \item \emph{ @param } id character
#' \item \emph{ @param } version.id character
#' \item \emph{ @returnType } \link{ToolDescriptor} \cr
#'
#'
#' \item status code : 200 | The tool descriptor.
#'
#' \item return type : ToolDescriptor 
#' \item response headers :
#'
#' \tabular{ll}{
#' }
#' \item status code : 404 | The tool can not be output in the specified type.
#'
#' \item return type : Error 
#' \item response headers :
#'
#' \tabular{ll}{
#' }
#' }
#'
#' }
#'
#'
#' @examples
#' \dontrun{
#' ####################  Ga4ghV1MetadataGet  ####################
#'
#' library(openapi)
#'
#' #Return some metadata that is useful for describing this registry
#' api.instance <- GA4GHToolRegistryApi$new()
#'
#' # Configure OAuth2 access token for authorization: googleoauth
#' api.instance$apiClient$accessToken <- 'TODO_YOUR_ACCESS_TOKEN';
#'
#' result <- api.instance$Ga4ghV1MetadataGet()
#'
#'
#' ####################  Ga4ghV1ToolClassesGet  ####################
#'
#' library(openapi)
#'
#' #List all tool types
#' api.instance <- GA4GHToolRegistryApi$new()
#'
#' # Configure OAuth2 access token for authorization: googleoauth
#' api.instance$apiClient$accessToken <- 'TODO_YOUR_ACCESS_TOKEN';
#'
#' result <- api.instance$Ga4ghV1ToolClassesGet()
#'
#'
#' ####################  Ga4ghV1ToolsGet  ####################
#'
#' library(openapi)
#'
#' #List all tools
#' api.instance <- GA4GHToolRegistryApi$new()
#'
#' # Configure OAuth2 access token for authorization: googleoauth
#' api.instance$apiClient$accessToken <- 'TODO_YOUR_ACCESS_TOKEN';
#'
#' result <- api.instance$Ga4ghV1ToolsGet()
#'
#'
#' ####################  Ga4ghV1ToolsIdGet  ####################
#'
#' library(openapi)
#' var.id <- 'id_example' # character | A unique identifier of the tool, scoped to this registry, for example `123456`
#'
#' #List one specific tool, acts as an anchor for self references
#' api.instance <- GA4GHToolRegistryApi$new()
#'
#' # Configure OAuth2 access token for authorization: googleoauth
#' api.instance$apiClient$accessToken <- 'TODO_YOUR_ACCESS_TOKEN';
#'
#' result <- api.instance$Ga4ghV1ToolsIdGet(var.id)
#'
#'
#' ####################  Ga4ghV1ToolsIdVersionsGet  ####################
#'
#' library(openapi)
#' var.id <- 'id_example' # character | A unique identifier of the tool, scoped to this registry, for example `123456`
#'
#' #List versions of a tool
#' api.instance <- GA4GHToolRegistryApi$new()
#'
#' # Configure OAuth2 access token for authorization: googleoauth
#' api.instance$apiClient$accessToken <- 'TODO_YOUR_ACCESS_TOKEN';
#'
#' result <- api.instance$Ga4ghV1ToolsIdVersionsGet(var.id)
#'
#'
#' ####################  Ga4ghV1ToolsIdVersionsVersionIdGet  ####################
#'
#' library(openapi)
#' var.id <- 'id_example' # character | A unique identifier of the tool, scoped to this registry, for example `123456`
#' var.version.id <- 'version.id_example' # character | An identifier of the tool version, scoped to this registry, for example `v1`
#'
#' #List one specific tool version, acts as an anchor for self references
#' api.instance <- GA4GHToolRegistryApi$new()
#'
#' # Configure OAuth2 access token for authorization: googleoauth
#' api.instance$apiClient$accessToken <- 'TODO_YOUR_ACCESS_TOKEN';
#'
#' result <- api.instance$Ga4ghV1ToolsIdVersionsVersionIdGet(var.id, var.version.id)
#'
#'
#' ####################  Ga4ghV1ToolsIdVersionsVersionIdTypeDescriptorGet  ####################
#'
#' library(openapi)
#' var.type <- 'type_example' # character | The output type of the descriptor. If not specified it is up to the underlying implementation to determine which output type to return. Plain types return the bare descriptor while the \"non-plain\" types return a descriptor wrapped with metadata. 
#' var.id <- 'id_example' # character | A unique identifier of the tool, scoped to this registry, for example `123456`.    *In FireCloud, this must be a namespace + \":\" + name. For instance, if your namespace   is 'foo' and name is 'bar', this must be 'foo:bar'.* 
#' var.version.id <- 'version.id_example' # character | An identifier of the tool version for this particular tool registry, for example `v1`.    *In FireCloud, this must be an integer representing the FireCloud snapshot id.* 
#'
#' #Get the tool descriptor (WDL) for the specified tool.
#' api.instance <- GA4GHToolRegistryApi$new()
#'
#' # Configure OAuth2 access token for authorization: googleoauth
#' api.instance$apiClient$accessToken <- 'TODO_YOUR_ACCESS_TOKEN';
#'
#' result <- api.instance$Ga4ghV1ToolsIdVersionsVersionIdTypeDescriptorGet(var.type, var.id, var.version.id)
#'
#'
#' }
#' @importFrom R6 R6Class
#' @importFrom base64enc base64encode
#' @export
GA4GHToolRegistryApi <- R6::R6Class(
  'GA4GHToolRegistryApi',
  public = list(
    apiClient = NULL,
    initialize = function(apiClient){
      if (!missing(apiClient)) {
        self$apiClient <- apiClient
      }
      else {
        self$apiClient <- ApiClient$new()
      }
    },
    Ga4ghV1MetadataGet = function(...){
      apiResponse <- self$Ga4ghV1MetadataGetWithHttpInfo(...)
      resp <- apiResponse$response
      if (httr::status_code(resp) >= 200 && httr::status_code(resp) <= 299) {
        apiResponse$content
      } else if (httr::status_code(resp) >= 300 && httr::status_code(resp) <= 399) {
        apiResponse
      } else if (httr::status_code(resp) >= 400 && httr::status_code(resp) <= 499) {
        apiResponse
      } else if (httr::status_code(resp) >= 500 && httr::status_code(resp) <= 599) {
        apiResponse
      }
    },

    Ga4ghV1MetadataGetWithHttpInfo = function(...){
      args <- list(...)
      queryParams <- list()
      headerParams <- c()

      body <- NULL
      urlPath <- "/ga4gh/v1/metadata"
      # OAuth token
      headerParams['Authorization'] <- paste("Bearer", self$apiClient$accessToken, sep=" ")

      resp <- self$apiClient$CallApi(url = paste0(self$apiClient$basePath, urlPath),
                                 method = "GET",
                                 queryParams = queryParams,
                                 headerParams = headerParams,
                                 body = body,
                                 ...)

      if (httr::status_code(resp) >= 200 && httr::status_code(resp) <= 299) {
        deserializedRespObj <- tryCatch(
          self$apiClient$deserialize(resp, "Metadata", loadNamespace("openapi")),
          error = function(e){
             stop("Failed to deserialize response")
          }
        )
        ApiResponse$new(deserializedRespObj, resp)
      } else if (httr::status_code(resp) >= 300 && httr::status_code(resp) <= 399) {
        ApiResponse$new(paste("Server returned " , httr::status_code(resp) , " response status code."), resp)
      } else if (httr::status_code(resp) >= 400 && httr::status_code(resp) <= 499) {
        ApiResponse$new("API client error", resp)
      } else if (httr::status_code(resp) >= 500 && httr::status_code(resp) <= 599) {
        ApiResponse$new("API server error", resp)
      }
    },
    Ga4ghV1ToolClassesGet = function(...){
      apiResponse <- self$Ga4ghV1ToolClassesGetWithHttpInfo(...)
      resp <- apiResponse$response
      if (httr::status_code(resp) >= 200 && httr::status_code(resp) <= 299) {
        apiResponse$content
      } else if (httr::status_code(resp) >= 300 && httr::status_code(resp) <= 399) {
        apiResponse
      } else if (httr::status_code(resp) >= 400 && httr::status_code(resp) <= 499) {
        apiResponse
      } else if (httr::status_code(resp) >= 500 && httr::status_code(resp) <= 599) {
        apiResponse
      }
    },

    Ga4ghV1ToolClassesGetWithHttpInfo = function(...){
      args <- list(...)
      queryParams <- list()
      headerParams <- c()

      body <- NULL
      urlPath <- "/ga4gh/v1/tool-classes"
      # OAuth token
      headerParams['Authorization'] <- paste("Bearer", self$apiClient$accessToken, sep=" ")

      resp <- self$apiClient$CallApi(url = paste0(self$apiClient$basePath, urlPath),
                                 method = "GET",
                                 queryParams = queryParams,
                                 headerParams = headerParams,
                                 body = body,
                                 ...)

      if (httr::status_code(resp) >= 200 && httr::status_code(resp) <= 299) {
        deserializedRespObj <- tryCatch(
          self$apiClient$deserialize(resp, "array[ToolClass]", loadNamespace("openapi")),
          error = function(e){
             stop("Failed to deserialize response")
          }
        )
        ApiResponse$new(deserializedRespObj, resp)
      } else if (httr::status_code(resp) >= 300 && httr::status_code(resp) <= 399) {
        ApiResponse$new(paste("Server returned " , httr::status_code(resp) , " response status code."), resp)
      } else if (httr::status_code(resp) >= 400 && httr::status_code(resp) <= 499) {
        ApiResponse$new("API client error", resp)
      } else if (httr::status_code(resp) >= 500 && httr::status_code(resp) <= 599) {
        ApiResponse$new("API server error", resp)
      }
    },
    Ga4ghV1ToolsGet = function(...){
      apiResponse <- self$Ga4ghV1ToolsGetWithHttpInfo(...)
      resp <- apiResponse$response
      if (httr::status_code(resp) >= 200 && httr::status_code(resp) <= 299) {
        apiResponse$content
      } else if (httr::status_code(resp) >= 300 && httr::status_code(resp) <= 399) {
        apiResponse
      } else if (httr::status_code(resp) >= 400 && httr::status_code(resp) <= 499) {
        apiResponse
      } else if (httr::status_code(resp) >= 500 && httr::status_code(resp) <= 599) {
        apiResponse
      }
    },

    Ga4ghV1ToolsGetWithHttpInfo = function(...){
      args <- list(...)
      queryParams <- list()
      headerParams <- c()

      body <- NULL
      urlPath <- "/ga4gh/v1/tools"
      # OAuth token
      headerParams['Authorization'] <- paste("Bearer", self$apiClient$accessToken, sep=" ")

      resp <- self$apiClient$CallApi(url = paste0(self$apiClient$basePath, urlPath),
                                 method = "GET",
                                 queryParams = queryParams,
                                 headerParams = headerParams,
                                 body = body,
                                 ...)

      if (httr::status_code(resp) >= 200 && httr::status_code(resp) <= 299) {
        deserializedRespObj <- tryCatch(
          self$apiClient$deserialize(resp, "array[Tool]", loadNamespace("openapi")),
          error = function(e){
             stop("Failed to deserialize response")
          }
        )
        ApiResponse$new(deserializedRespObj, resp)
      } else if (httr::status_code(resp) >= 300 && httr::status_code(resp) <= 399) {
        ApiResponse$new(paste("Server returned " , httr::status_code(resp) , " response status code."), resp)
      } else if (httr::status_code(resp) >= 400 && httr::status_code(resp) <= 499) {
        ApiResponse$new("API client error", resp)
      } else if (httr::status_code(resp) >= 500 && httr::status_code(resp) <= 599) {
        ApiResponse$new("API server error", resp)
      }
    },
    Ga4ghV1ToolsIdGet = function(id, ...){
      apiResponse <- self$Ga4ghV1ToolsIdGetWithHttpInfo(id, ...)
      resp <- apiResponse$response
      if (httr::status_code(resp) >= 200 && httr::status_code(resp) <= 299) {
        apiResponse$content
      } else if (httr::status_code(resp) >= 300 && httr::status_code(resp) <= 399) {
        apiResponse
      } else if (httr::status_code(resp) >= 400 && httr::status_code(resp) <= 499) {
        apiResponse
      } else if (httr::status_code(resp) >= 500 && httr::status_code(resp) <= 599) {
        apiResponse
      }
    },

    Ga4ghV1ToolsIdGetWithHttpInfo = function(id, ...){
      args <- list(...)
      queryParams <- list()
      headerParams <- c()

      if (missing(`id`)) {
        stop("Missing required parameter `id`.")
      }

      body <- NULL
      urlPath <- "/ga4gh/v1/tools/{id}"
      if (!missing(`id`)) {
        urlPath <- gsub(paste0("\\{", "id", "\\}"), URLencode(as.character(`id`), reserved = TRUE), urlPath)
      }

      # OAuth token
      headerParams['Authorization'] <- paste("Bearer", self$apiClient$accessToken, sep=" ")

      resp <- self$apiClient$CallApi(url = paste0(self$apiClient$basePath, urlPath),
                                 method = "GET",
                                 queryParams = queryParams,
                                 headerParams = headerParams,
                                 body = body,
                                 ...)

      if (httr::status_code(resp) >= 200 && httr::status_code(resp) <= 299) {
        deserializedRespObj <- tryCatch(
          self$apiClient$deserialize(resp, "Tool", loadNamespace("openapi")),
          error = function(e){
             stop("Failed to deserialize response")
          }
        )
        ApiResponse$new(deserializedRespObj, resp)
      } else if (httr::status_code(resp) >= 300 && httr::status_code(resp) <= 399) {
        ApiResponse$new(paste("Server returned " , httr::status_code(resp) , " response status code."), resp)
      } else if (httr::status_code(resp) >= 400 && httr::status_code(resp) <= 499) {
        ApiResponse$new("API client error", resp)
      } else if (httr::status_code(resp) >= 500 && httr::status_code(resp) <= 599) {
        ApiResponse$new("API server error", resp)
      }
    },
    Ga4ghV1ToolsIdVersionsGet = function(id, ...){
      apiResponse <- self$Ga4ghV1ToolsIdVersionsGetWithHttpInfo(id, ...)
      resp <- apiResponse$response
      if (httr::status_code(resp) >= 200 && httr::status_code(resp) <= 299) {
        apiResponse$content
      } else if (httr::status_code(resp) >= 300 && httr::status_code(resp) <= 399) {
        apiResponse
      } else if (httr::status_code(resp) >= 400 && httr::status_code(resp) <= 499) {
        apiResponse
      } else if (httr::status_code(resp) >= 500 && httr::status_code(resp) <= 599) {
        apiResponse
      }
    },

    Ga4ghV1ToolsIdVersionsGetWithHttpInfo = function(id, ...){
      args <- list(...)
      queryParams <- list()
      headerParams <- c()

      if (missing(`id`)) {
        stop("Missing required parameter `id`.")
      }

      body <- NULL
      urlPath <- "/ga4gh/v1/tools/{id}/versions"
      if (!missing(`id`)) {
        urlPath <- gsub(paste0("\\{", "id", "\\}"), URLencode(as.character(`id`), reserved = TRUE), urlPath)
      }

      # OAuth token
      headerParams['Authorization'] <- paste("Bearer", self$apiClient$accessToken, sep=" ")

      resp <- self$apiClient$CallApi(url = paste0(self$apiClient$basePath, urlPath),
                                 method = "GET",
                                 queryParams = queryParams,
                                 headerParams = headerParams,
                                 body = body,
                                 ...)

      if (httr::status_code(resp) >= 200 && httr::status_code(resp) <= 299) {
        deserializedRespObj <- tryCatch(
          self$apiClient$deserialize(resp, "array[ToolVersion]", loadNamespace("openapi")),
          error = function(e){
             stop("Failed to deserialize response")
          }
        )
        ApiResponse$new(deserializedRespObj, resp)
      } else if (httr::status_code(resp) >= 300 && httr::status_code(resp) <= 399) {
        ApiResponse$new(paste("Server returned " , httr::status_code(resp) , " response status code."), resp)
      } else if (httr::status_code(resp) >= 400 && httr::status_code(resp) <= 499) {
        ApiResponse$new("API client error", resp)
      } else if (httr::status_code(resp) >= 500 && httr::status_code(resp) <= 599) {
        ApiResponse$new("API server error", resp)
      }
    },
    Ga4ghV1ToolsIdVersionsVersionIdGet = function(id, version.id, ...){
      apiResponse <- self$Ga4ghV1ToolsIdVersionsVersionIdGetWithHttpInfo(id, version.id, ...)
      resp <- apiResponse$response
      if (httr::status_code(resp) >= 200 && httr::status_code(resp) <= 299) {
        apiResponse$content
      } else if (httr::status_code(resp) >= 300 && httr::status_code(resp) <= 399) {
        apiResponse
      } else if (httr::status_code(resp) >= 400 && httr::status_code(resp) <= 499) {
        apiResponse
      } else if (httr::status_code(resp) >= 500 && httr::status_code(resp) <= 599) {
        apiResponse
      }
    },

    Ga4ghV1ToolsIdVersionsVersionIdGetWithHttpInfo = function(id, version.id, ...){
      args <- list(...)
      queryParams <- list()
      headerParams <- c()

      if (missing(`id`)) {
        stop("Missing required parameter `id`.")
      }

      if (missing(`version.id`)) {
        stop("Missing required parameter `version.id`.")
      }

      body <- NULL
      urlPath <- "/ga4gh/v1/tools/{id}/versions/{version-id}"
      if (!missing(`id`)) {
        urlPath <- gsub(paste0("\\{", "id", "\\}"), URLencode(as.character(`id`), reserved = TRUE), urlPath)
      }

      if (!missing(`version.id`)) {
        urlPath <- gsub(paste0("\\{", "version-id", "\\}"), URLencode(as.character(`version.id`), reserved = TRUE), urlPath)
      }

      # OAuth token
      headerParams['Authorization'] <- paste("Bearer", self$apiClient$accessToken, sep=" ")

      resp <- self$apiClient$CallApi(url = paste0(self$apiClient$basePath, urlPath),
                                 method = "GET",
                                 queryParams = queryParams,
                                 headerParams = headerParams,
                                 body = body,
                                 ...)

      if (httr::status_code(resp) >= 200 && httr::status_code(resp) <= 299) {
        deserializedRespObj <- tryCatch(
          self$apiClient$deserialize(resp, "ToolVersion", loadNamespace("openapi")),
          error = function(e){
             stop("Failed to deserialize response")
          }
        )
        ApiResponse$new(deserializedRespObj, resp)
      } else if (httr::status_code(resp) >= 300 && httr::status_code(resp) <= 399) {
        ApiResponse$new(paste("Server returned " , httr::status_code(resp) , " response status code."), resp)
      } else if (httr::status_code(resp) >= 400 && httr::status_code(resp) <= 499) {
        ApiResponse$new("API client error", resp)
      } else if (httr::status_code(resp) >= 500 && httr::status_code(resp) <= 599) {
        ApiResponse$new("API server error", resp)
      }
    },
    Ga4ghV1ToolsIdVersionsVersionIdTypeDescriptorGet = function(type, id, version.id, ...){
      apiResponse <- self$Ga4ghV1ToolsIdVersionsVersionIdTypeDescriptorGetWithHttpInfo(type, id, version.id, ...)
      resp <- apiResponse$response
      if (httr::status_code(resp) >= 200 && httr::status_code(resp) <= 299) {
        apiResponse$content
      } else if (httr::status_code(resp) >= 300 && httr::status_code(resp) <= 399) {
        apiResponse
      } else if (httr::status_code(resp) >= 400 && httr::status_code(resp) <= 499) {
        apiResponse
      } else if (httr::status_code(resp) >= 500 && httr::status_code(resp) <= 599) {
        apiResponse
      }
    },

    Ga4ghV1ToolsIdVersionsVersionIdTypeDescriptorGetWithHttpInfo = function(type, id, version.id, ...){
      args <- list(...)
      queryParams <- list()
      headerParams <- c()

      if (missing(`type`)) {
        stop("Missing required parameter `type`.")
      }

      if (missing(`id`)) {
        stop("Missing required parameter `id`.")
      }

      if (missing(`version.id`)) {
        stop("Missing required parameter `version.id`.")
      }

      body <- NULL
      urlPath <- "/ga4gh/v1/tools/{id}/versions/{version-id}/{type}/descriptor"
      if (!missing(`type`)) {
        urlPath <- gsub(paste0("\\{", "type", "\\}"), URLencode(as.character(`type`), reserved = TRUE), urlPath)
      }

      if (!missing(`id`)) {
        urlPath <- gsub(paste0("\\{", "id", "\\}"), URLencode(as.character(`id`), reserved = TRUE), urlPath)
      }

      if (!missing(`version.id`)) {
        urlPath <- gsub(paste0("\\{", "version-id", "\\}"), URLencode(as.character(`version.id`), reserved = TRUE), urlPath)
      }

      # OAuth token
      headerParams['Authorization'] <- paste("Bearer", self$apiClient$accessToken, sep=" ")

      resp <- self$apiClient$CallApi(url = paste0(self$apiClient$basePath, urlPath),
                                 method = "GET",
                                 queryParams = queryParams,
                                 headerParams = headerParams,
                                 body = body,
                                 ...)

      if (httr::status_code(resp) >= 200 && httr::status_code(resp) <= 299) {
        deserializedRespObj <- tryCatch(
          self$apiClient$deserialize(resp, "ToolDescriptor", loadNamespace("openapi")),
          error = function(e){
             stop("Failed to deserialize response")
          }
        )
        ApiResponse$new(deserializedRespObj, resp)
      } else if (httr::status_code(resp) >= 300 && httr::status_code(resp) <= 399) {
        ApiResponse$new(paste("Server returned " , httr::status_code(resp) , " response status code."), resp)
      } else if (httr::status_code(resp) >= 400 && httr::status_code(resp) <= 499) {
        ApiResponse$new("API client error", resp)
      } else if (httr::status_code(resp) >= 500 && httr::status_code(resp) <= 599) {
        ApiResponse$new("API server error", resp)
      }
    }
  )
)
